<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="zh"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="zh"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh"><![endif]-->
<!--[if gt IE 8]<!-->
<html class="no-js" lang="zh">
  <!--<![endif]-->
  <head>
    <meta charset="UTF-8">

    <title>
      @yorzi
    </title>

    <meta name="description" content="安迪的思考和分享">
    <meta name="keywords" content="Remote Working,Project Management,Team Collaboration,Startup,Entrepreneurship,Ruby/Rails,Web Development,生活">
    <meta name="author" content="Andy Wang">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="cleartype" content="on">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="apple-touch-icon-precomposed" type="image/png" sizes="57x57" href="/apple-touch-icon-57x57-precomposed.png">
    <link rel="apple-touch-icon-precomposed" type="image/png" sizes="72x72" href="/apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" type="image/png" sizes="114x114" href="/apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" type="image/png" sizes="144x144" href="/apple-touch-icon-144x144-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon-precomposed.png">
    <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">

    <link rel="icon" type="image/png" sizes="16x16" href="/wangyaodi.png">
    <link rel="shortcut icon" sizes="16x16" href="/wangyaodi.png">
    <link rel="alternate" type="application/rss+xml" title="@yorzi's Homepage" href="/feed.xml" />
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="/stylesheets/application.css">
    <script src="/javascripts/all.js"></script>
  </head>
  <body class="page page_26 page_26_index">
    <aside class="sidebar">
      <h1 class="site-name"><a href="/" style='color:rgb(162, 9, 9);'>@yorzi</a></h1>
      <nav class="global-nav">
        <ul>
          <li><a href="/profile.html">About</a></li>
          <li><a href="/presentations.html">Presentations</a></li>
          <li><a href="/files/2013-Andy-Wang-Resume-Via-Linkedin.pdf">Resume</a></li>
        </ul>
      </nav>

      <nav class="social-connect">
        <ul>
          <li><a href="//github.com/yorzi"><i class="icon-github"></i></a></li>
          <li><a href="//weibo.com/yorzi"><i class="icon-weibo"></i></a></li>
          <li><a href="//twitter.com/yorzi"><i class="icon-twitter"></i></a></li>
          <li><a href="//cn.linkedin.com/in/yorzi"><i class="icon-linkedin"></i></a></li>
        </ul>
      </nav>

      <!-- Ad -->
      <div class="block ad">
        <p class="block-cnt">Themed By</p>
        <h4 class="block-title"><a href="//fengche.co">风车</a></h4>
      </div>

    </aside>

    <section class="main">
      <div class="container">
        <div id="posts">
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/12/primary_key-and-foreign_key-in-rails-association.html">primary_key and foreign_key in Rails association</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 12, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p>The has<em>many and belongs</em>to association in Rails are with many optional parameters, they are actually the parameters for DB relationship, see more details by <a href="http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html">clicking here</a>.</p>

<p>As a reminder to myself, I misunderstood the primary<em>key an foreign</em>key conditions in association, it should be set in both sides in some case, for instance:
</p><pre name="code" class="ruby">
class Student &lt; ActiveRecord::Base
  has<em>many :trial</em>lessons, :foreign<em>key =&gt; :user</em>id, :primary<em>key =&gt; :profile</em>id
end
</pre>
Above code will let you invoke the student.trial<em>lessons, but if you want to use trial</em>lesson.student, you have to define the association as below:
<pre name="code" class="ruby">
class TrialLesson &lt; ActiveRecord::Base
  belongs<em>to :student, :primary</em>key =&gt; :profile<em>id, :foreign</em>key =&gt; :user<em>id
end
</em></pre>
<blockquote>
<strong>Notice that</strong>: you actually set the same :primarykey and :foreign_key in both sides, it’s because...</blockquote>

  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/12/primary_key-and-foreign_key-in-rails-association.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/11/set-static-ip-on-ubuntu.html">Set static IP on Ubuntu</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 11, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p>Edit:
<code>sudo vim /etc/network/interfaces</code></p>

<p>Then change the content, assuming you want to set your IP as &ldquo;192.168.1.66&rdquo;
<code># The primary network interface
auto eth0
iface eth0 inet static
        address 192.168.1.66
        netmask 255.255.255.0
        network 192.168.1.0
        broadcast 192.168.1.255
        gateway 192.168.1.1
</code></p>

<p>Then to restart your network.
<code>sudo /etc/init.d/networking restart</code></p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/11/set-static-ip-on-ubuntu.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/11/solo.html">什么都不是，是寂寞</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 11, 2009
    </li>
    <li class="tags">
        <a href="/tags/blog.html">blog</a>
        <a href="/tags/buzz.html">buzz</a>
        <a href="/tags/colleague.html">colleague</a>
        <a href="/tags/jp.html">jp</a>
        <a href="/tags/seven.html">seven</a>
    </li>
  </ul>
</aside>

<div class="content">
  <p>其实再次决定坚持写Blog是因为不久前发现<a href="http://jonathanpalley.com/">JP的blog</a>和最近<a href="http://www.dujinfang.com">Seven哥Blog</a>积极的带动，所以我基本上打算打造一个以技术为主，扯淡为辅，学习为主，抒情几乎可以忽略到都谈不上为辅的Blog。</p>

<p>今天<a href="http://lijiapeng.com/">Buzz</a>看见我Blog的副标题调侃了一下我，我才突然明白一个道理：很多事情，都介于说了矫情和不说憋屈之间。所以那句“给寂寞，一个许诺。”就属于很靠近矫情的表达，坚决干掉，哈哈。并且我觉得Blog的名字也很罗嗦，干脆简化之：Refactoring Thoughts.</p>

<p>什么？Refactoring是什么意思？你不会Google啊。</p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/11/solo.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/11/cheat-sheet-in-terminal.html">Cheat sheet in terminal</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 11, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p>I found a cool gem called &ldquo;cheat&rdquo;, it&rsquo;s pretty handy and convenient when you wanna see a brief help/introduction of some &ldquo;stuff&rdquo; in command line, cheat out the website for more <a href="http://cheat.errtheblog.com/b">wiki-versioned cheat sheet</a>.</p>

<blockquote>
Get started:
<i style="color:yellow">$ sudo gem install cheat
$ cheat strftime</i>

A magnificent cheat sheet for Ruby&rsquo;s strftime method will be printed to your terminal.

To get some help on cheat itself:
<i style="color:yellow">$ cheat cheat</i>

How meta.

Cheat sheets are basically wiki pages accessible from the command line. You can browse, add, or edit cheat sheets. Try to keep them concise. For a style guide, check out the cheat cheat sheet.

To access a cheat sheet, simply pass the program the desired sheet&rsquo;s name:
<i style="color:yellow">$ cheat <sheet name></i>
</blockquote>

<p>Reference : <a href="http://cheat.errtheblog.com/">CLICK HERE</a>!</p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/11/cheat-sheet-in-terminal.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/10/the-art-of-community.html">The Art of Community</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 10, 2009
    </li>
    <li class="tags">
        <a href="/tags/book.html">book</a>
        <a href="/tags/community.html">community</a>
        <a href="/tags/reading.html">reading</a>
        <a href="/tags/translate.html">translate</a>
    </li>
  </ul>
</aside>

<div class="content">
  <p><code>第一次完整的翻译一篇英文文章简介，耗费我将近两个小时，而且感觉相当粗糙，一尝试便知道自己的水平还非常的简单粗暴。这样一段文字，如果阅读也就几分钟的事情，但是要翻译出来竟然煞废我的苦心，而且所谓的信达雅更是想都不敢想，如此当头一击足以说明一个问题，平时阅读还是太不用心了，尽管看的东西不少，但真正能够看懂并且有所收获的阅读就太少了。</code>
－－－－－－－－－－－－－－<i style="color:green"> I AM 分割线 </i>－－－－－－－－－－－－－－－
<i>This article is about a book, <b>The Art of Community</b>, I translated its original <a herf="http://www.artofcommunityonline.org/about/">About</a> on its website for sharing information with Chinese friends, and also I am happy to serve a downloaded version of this book, enjoy it.</i></p>

<p>这篇Blog关于一本书 ——《社区艺术》。我翻译了此书官方网站上面的介绍，推荐这本书，并和更多的朋友分享。这里我非常高兴可以提供一个该书的下载版本。</p>

<p><i>Every software project, online site, or company has to manage the community of interested people surrounding it. The community is the source of new ideas, a reliable support network, and the best marketing tool. When money is tight, making the best use of the community is even more critical.</i></p>

<p>每...</p>

  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/10/the-art-of-community.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/10/冬雷阵阵.html">冬雷阵阵</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 10, 2009
    </li>
    <li class="tags">
        <a href="/tags/午夜.html">午夜</a>
        <a href="/tags/胡侃.html">胡侃</a>
        <a href="/tags/阅读.html">阅读</a>
    </li>
  </ul>
</aside>

<div class="content">
  <p>这是冬天吗？为什么窗外会轰隆隆的打雷。紧接着就是沙沙的雨声，搞的我有点莫名的精神饱满。<br />
连日来失眠不断升级，今天干脆就一直坐下去，我就不信身子干不过脑子（打心底鄙视自己这个多么无脑的想法）。</p>

<p>最近翻看<a href="http://www.douban.com/subject/3609132/">《把时间当作朋友》</a>，又有点从前读书的感觉了，只不过明显觉得不如从前容易聚精会神，以至于总是想一目十行的看完了事。这是一件可怕的恶习，彻头彻尾的可怕。</p>

<p>这一年没有好好读几本书，尽管GR里面浏览了上千篇文字，感觉却没有什么明显的积累。而且网络阅读往往使人变得异常浮躁，总觉得这个有意思那个有趣这个有价值那个应该收藏起来，这么折腾来折腾去，最后真正积累起来的东西却少之又少。</p>

<p>是时候该反思一下电脑和网络这样的工具了，它们应该是工具，而主宰工具的人一定需要有强大的控制力，这就像世界上所有的双刃剑，如果你主宰不了，你将被宰。</p>

<p>老天爷，天亮赏我一场鹅毛大雪吧。<br />
下雨多没档次。</p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/10/冬雷阵阵.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/09/rails-best-practices.html">Rails Best Practices</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 09, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p>Quote from Gary’s weekly code review post, thanks to Gary Zhang.
</p><blockquote>
all advises on Ruby on Rails code:
<pre class="highlight plaintext"><code>* Lesson 1. Move code from Controller to Model
  1. Move finder to named_scope
  2. Use model association
  3. Use scope access
  4. Add model virtual attribute
  5. Use model callback
  6. Replace Complex Creation with Factory Method
  7. Move Model Logic into the Model
  8. model.collection_model_ids (many-to-many)
  9. Nested Model Forms (one-to-one)
  10. Nested Model Forms (one-to-many)

* Lesson 2. RESTful Conventions
  1. Overuse route customizations
  2. Needless deep nesting
  3. Not use default route

* Lesson 3. Model
  1. Keep Finders on Their Own Model
  2. Love named_scope # same as Move finder to named_scope
  3. the Law of Demeter
  4. DRY: metaprogramming
  5. Extract into...</code></pre>
</blockquote>

  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/09/rails-best-practices.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/08/学车.html">学车</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 08, 2009
    </li>
    <li class="tags">
        <a href="/tags/冬天.html">冬天</a>
        <a href="/tags/学车.html">学车</a>
        <a href="/tags/忧虑.html">忧虑</a>
        <a href="/tags/生活.html">生活</a>
    </li>
  </ul>
</aside>

<div class="content">
  <p>一直想学开车，由于09年安排得满满当当的，所以一直拖到现在，虽然感觉天气变冷了周末要大早起床去驾校会是一件极度挑战的事情，但是估计过了这阵子说不定有会没有时间，干脆学了算了。</p>

<p>今天海淀驾校的人上门服务，所以报名变得很简单，当时那人带的相机没有电了，我就用Iphone照了几张做为将来驾照上面的照片，后来<a href="http://www.chenzhonghao.com">Gary</a>看见照片语重心长的说，真是老了啊。这家伙的言外之意是说，赶紧找媳妇过日子吧，免得他不在的时候，一把年纪了连个说话的人都没有。靠，我会有这么惨？</p>

<p>很久没什么事情搞的我心神不宁了，但是最近却睡不好觉，身体也开始悄起了警钟，这让我多少有些忧虑，毕竟一年多时间里面，除了抽烟喝酒熬夜和不参加锻练，似乎剩下来时间都在电脑边度过的，据说这就是传说中的自取灭亡。</p>

<p>好吧，谁来陪我？</p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/08/学车.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/07/a-game-about-photo.html">照片的故事</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 07, 2009
    </li>
    <li class="tags">
        <a href="/tags/blue.html">blue</a>
        <a href="/tags/game.html">game</a>
        <a href="/tags/photo.html">photo</a>
    </li>
  </ul>
</aside>

<div class="content">
  <p>下午本来要研究<a href="http://rspec.info">Rspec</a>和<a href="http://cukes.info">Cucumber</a>，谁知道无意间登上了公司的VPN，看这两年间发生在Idapted的故事，笑得我前仰后合。</p>

<p>在Idapted有一个关于照片的游戏，游戏的规则概括起只有一句话：&quot;Something about (&hellip;)&ldquo;</p>

<p>到Idapted的两年里一共玩了两次，第一次是第一名，第二次是第二名。第一名的时候，好像得了一个飞镖盘，后来放在公司和大家一块共享了。这第二次得了团体第二名，每个队员发了一个精致的小瓷器，有人说可以做笔筒，有人说那分明是放在厨房里放筷子的，其实我第一看到那个“奖品”的时候，就觉得它是个牙缸，后来被大家痛骂没有所谓的情趣和艺术细胞。还好有人用她的的奖品——一条围巾把那个牙缸给还走了，阿弥陀佛。</p>

<p>言归正传继续说游戏，大家分组以后，就分头按照指定的主题去摄影，必须突发奇想的紧扣主题，里面还必须至少有一名队员。有山有水有创意，照片自然比较好玩。然后晚上在一起评比和宣讲，最后就能筛选出得分最高的”作品“。直到今天看了几乎所有的照片，才觉得游戏评比的时候规则还是太过于约束了，因为还有很多很精彩的照片并没有机会得到大家的评价，自然也就很难胜出，不过毕竟是玩耍，大家到并不是很在乎比赛结果。</p>

<p>Okay，挑几张share一下咯。</p>

<p>Something about BLUE:
<p style="text-align: center;"><img class="size-full wp-image-35 aligncenter" style="border: 3px solid white;" title="BLUE" src="http://blog.wangyaodi.com/wp-content/uploads/2009/11/CIMG0404.JPG" alt="BLUE" width="500" height="375" /></p>

<p style="text-align: center;">另一张我喜欢的图片：</p>

<p style="text-align: center;"><img class="size-full wp-image-36 aligncenter" style="border: 3px solid white;" title="blue" src="http://blog.wangyaodi.com/wp-content/uploads/2009/11/SDC10635.JPG" alt="Blue" width="500" height="375" /></p></p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/07/a-game-about-photo.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/06/mysql-dump.html">mysql dump</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 06, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p>I&rsquo;m a little shamed that I ask Sonic for a mysql dump command several times, I rarely dump db myself, that&rsquo;s why I forget the way dealing with it.. Ok, the commands are:
<pre name="code" class="mysql">
mysqldump -u root user<em>production &gt; user</em>production.sql
bzip2 user_production.sql</p>

<p>scp from server to local.</p>

<p>bunzip2 user<em>production.sql.bz2
bzcat user</em>production.sql.bz2 | mysql -u root user_production
or extracts the backup files, to create db directly.
</pre></p>

<p>Thanks Sonic.</p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/06/mysql-dump.html">Read more →</a>
  </p>
</div>
    </article>

    <ul class="pager">
        <li class="next"><a href="/page/27/">更旧的 &rarr;</a></li>
        <li class="previous"><a href="/page/25/">&larr; 更新的</a></li>
    </ul>
</div>

      </div>
    </section>

    <footer>
      <div class="copyright">
        <p>&copy;2015 Andy Wang</a></p>
      </div>
    </footer>

    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-11967621-1");
        pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </body>
</html>