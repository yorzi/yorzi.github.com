<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="zh"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="zh"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh"><![endif]-->
<!--[if gt IE 8]<!-->
<html class="no-js" lang="zh">
  <!--<![endif]-->
  <head>
    <meta charset="UTF-8">

    <title>
      @yorzi
    </title>

    <meta name="description" content="安迪的思考和分享">
    <meta name="keywords" content="Remote Working,Project Management,Team Collaboration,Startup,Entrepreneurship,Ruby/Rails,Web Development,生活">
    <meta name="author" content="Andy Wang">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="cleartype" content="on">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="apple-touch-icon-precomposed" type="image/png" sizes="57x57" href="/apple-touch-icon-57x57-precomposed.png">
    <link rel="apple-touch-icon-precomposed" type="image/png" sizes="72x72" href="/apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" type="image/png" sizes="114x114" href="/apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" type="image/png" sizes="144x144" href="/apple-touch-icon-144x144-precomposed.png" />
    <link rel="apple-touch-icon-precomposed" type="image/png" href="/apple-touch-icon-precomposed.png">
    <link rel="apple-touch-icon" type="image/png" href="/apple-touch-icon.png">

    <link rel="icon" type="image/png" sizes="16x16" href="/wangyaodi.png">
    <link rel="shortcut icon" sizes="16x16" href="/wangyaodi.png">
    <link rel="alternate" type="application/rss+xml" title="@yorzi's Homepage" href="/feed.xml" />
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="/stylesheets/application.css">
    <script src="/javascripts/all.js"></script>
  </head>
  <body class="page page_27 page_27_index">
    <aside class="sidebar">
      <h1 class="site-name"><a href="/" style='color:rgb(162, 9, 9);'>@yorzi</a></h1>
      <nav class="global-nav">
        <ul>
          <li><a href="/profile.html">About</a></li>
          <li><a href="/presentations.html">Presentations</a></li>
          <li><a href="/files/2013-Andy-Wang-Resume-Via-Linkedin.pdf">Resume</a></li>
        </ul>
      </nav>

      <nav class="social-connect">
        <ul>
          <li><a href="//github.com/yorzi"><i class="icon-github"></i></a></li>
          <li><a href="//weibo.com/yorzi"><i class="icon-weibo"></i></a></li>
          <li><a href="//twitter.com/yorzi"><i class="icon-twitter"></i></a></li>
          <li><a href="//cn.linkedin.com/in/yorzi"><i class="icon-linkedin"></i></a></li>
        </ul>
      </nav>

      <!-- Ad -->
      <div class="block ad">
        <p class="block-cnt">Themed By</p>
        <h4 class="block-title"><a href="//fengche.co">风车</a></h4>
      </div>

    </aside>

    <section class="main">
      <div class="container">
        <div id="posts">
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/04/a-discussion-on-testing.html">A discussion on testing</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 04, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p>In this week code review meeting, I open a discussion about testing code of Ruby on Rails. Actually I think the test for a complex system is not that easy if you wanna do it gracefully, but it’s still worth starting in small steps, that’s what’s important. I’d like to share the ideas people contributed, and the included contents are as following:
Andy:
</p><blockquote>
Tried something new for RoR testing yesterday, it’s factory<em>girl(fixtures replacement solution. &lt;a href=’<a href="http://github.com/thoughtbot/factory">http://github.com/thoughtbot/factory</a></em>girl’&gt;see more details). In this week code review, I show the testing code, and also have questions about test:

<ol>
<li>How to make sure that you test all(99.5%) situations.</li>
<li>If you test before you code, how to control/ensure the function points properly?</li>
</ol>

<p>feel free to comment here if you have any thoughts...</p>
</blockquote>

  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/04/a-discussion-on-testing.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/03/polymorphic-association-in-factory_girl.html">Polymorphic association in factory_girl</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 03, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p>I tried factroy<em>girl yesterday to work with rspec framework, It’s excellent way to support testing, however, the polymorphic association in factroy</em>girl almost defeated me.
The factory definition in my code is as:
</p><pre name="code" class="ruby">
Factory.define :item do |i|
    i.status 0
    i.related<em>with</em>id 1
    i.association :unit
end

<p>Factory.define :study<em>record do |sr|
    sr.association :content, :factory =&gt; :item
    sr.add</em>attribute :interaction<em>id
    sr.add</em>attribute :finished_at
end
</p></pre>
Then I did this:
<pre name="code" class="ruby">
<pre class="highlight plaintext"><code>@item = Factory(:item)
@study_record = Factory(:study_record)
@item.study_records &lt;&lt; @study_record
</code></pre>

<p></p></pre>
But actually, this does not work to associate @study<em>record with @item, the problem is that @study</em>record.content is totally a new instance of Item rather than @item. It seems that “&lt;&lt;” doesn’t work in this case.
The...

  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/03/polymorphic-association-in-factory_girl.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/11/03/ssh-turnl-script.html">SSH tunnel script</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Nov 03, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p>Why SSH tunneling?</p>

<p>Obviously, if you live in Chxna or some other place where you are restricted to access free network, and if you luckily own a ssh accessible account on a server that is hosted in a free country, congratulations, you can use ssh tunnel to fuck the wall.</p>

<p>Seriously, you just need to install ssh tool on your PC, (it will be much easier to setup a ssh tunnel if you are using a *nix OS), putty is a good choose if you are on Windows. I will show the script to explain what you should do on Ubuntu 9.04.
</p><pre name="code" class="ruby">
   ssh -qTfnN -D LocalPort remotehost(dreamhost)
</pre>
<code>
All the added options are for a ssh session that’s used for tunneling.
-q :- be very quite, we are acting only as a tunnel.
-T :- Do not allocate a pseudo tty, we are only acting a tunnel.
-f :- move the ssh process to background...</code>

  <p>
    ......
  </p>
  <p>
    <a href="/2009/11/03/ssh-turnl-script.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/08/22/寂寞是一座花园.html">寂寞是一座花园</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Aug 22, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p><div align="center"><font color="#262626"><b><a href="http://wangyaodi.com">Thoughts Refactoring</a><br /><br />- eNd -<br /></b></font></div></p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/08/22/寂寞是一座花园.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/08/05/八月.html">八月</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Aug 05, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p><span>&ldquo;习惯就是习惯，扔不出窗外，只能步步引下楼。&rdquo;<br /><br />人们总以为自己变得更好，却不知道处在那一点才是真的好，于是人生的后退也一样华丽。<br />碰到感动的场面开始平静而泰然，愤怒的时候热切，思念的时候寡淡。<br /><br />遇见对手是一件豪迈的事情，酒剩下一杯，心事两份。<br />旅途延伸，背包里是我向往的心。只要一个谎言，我成全了你所有的美丽。<br /><br />最后，我告诉她，一个人经常说自己如何忙，那是无能的表现。<br /></span></p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/08/05/八月.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/07/30/信仰在空中飘扬.html">信仰在空中飘扬</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Jul 30, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p>春天里<br />破碎的歌谣<br /><br />母亲<br />光明<br /><br />无主之城<br />空空如野<br /><br />当我想你的时候<br />你是我心爱的姑娘<br /><br />如果风不再吹<br />名利场<br />蹩脚的爱情<br /><br />有意思吗<br />再见青春<br /><a target="_blank" href="http://www.google.cn/music/album?id=Bc5f392dca49ef9bc">信仰在空中飘扬</a><br /><br /></p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/07/30/信仰在空中飘扬.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/07/28/你的生日让我想起一个很久以前的朋友.html">你的生日让我想起一个很久以前的朋友</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Jul 28, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p>感冒四天<br />困倦弥漫了整个空间<br />而我依然想说<br />要快乐<br />万安<br /></p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/07/28/你的生日让我想起一个很久以前的朋友.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/07/20/洪水猛兽.html">洪水猛兽</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Jul 20, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p><font color="#595959"><b>突然意识到自己失眠了。<br />躺下一个小时，翻来覆去。接着窗外开始有淅淅沥沥的雨声，像是在与我倾诉。<br />从床上坐起来，点一跟烟，走到窗前。雨声密密麻麻，像是我的心事。<br /><br />脑子空白了很久，表情恐怕也凝固在黑暗中，而却无力去调整，那怕一个姿势，或者仅仅是将凝视的眼神转一个方向。<br />半年的时间里，还未曾如此溺爱自己，让夜尽情穿透理智，爱这样的夜，我也憎恨它。<br /><br />我不是在思念，是寂寞。<br /><br />鲜活和狰狞同时装点着故事的每一个细节，温润是个骗局，而信任终究无解。<br />跋涉夸大了美景，无知永远无敌。<br /><br />有一天，以正义正名。<br />而所有剧终，都满是惶恐。</b></font></p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/07/20/洪水猛兽.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/07/18/无题-12.html">无题</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Jul 18, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p><i>低调而安静<br />成了生活的主旋律<br /><br />仍然无题<br />&amp;TO BE CONTINUED..</i><br /></p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/07/18/无题-12.html">Read more →</a>
  </p>
</div>
    </article>
    <article class="post">
      <header>
  <h2 class="title">
    <a href="/2009/07/13/无题-11.html">无题</a>
  </h2>
</header>

<aside class="aside-block">
  <ul class="meta">
    <li class="date">
      Jul 13, 2009
    </li>
    <li class="tags">
    </li>
  </ul>
</aside>

<div class="content">
  <p><span style="font-weight:bold;font-style:italic">永远都是这样子</span><br style="font-weight:bold;font-style:italic" /><span style="font-weight:bold;font-style:italic">因为你永远不知道下一次<br />又会是什么事情</span><br style="font-weight:bold;font-style:italic" /><br style="font-weight:bold;font-style:italic" /><span style="font-weight:bold;font-style:italic">后来<br />我的生活就跟着改变了</span></p>


  <p>
    ......
  </p>
  <p>
    <a href="/2009/07/13/无题-11.html">Read more →</a>
  </p>
</div>
    </article>

    <ul class="pager">
        <li class="next"><a href="/page/28/">更旧的 &rarr;</a></li>
        <li class="previous"><a href="/page/26/">&larr; 更新的</a></li>
    </ul>
</div>

      </div>
    </section>

    <footer>
      <div class="copyright">
        <p>&copy;2015 Andy Wang</a></p>
      </div>
    </footer>

    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-11967621-1");
        pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </body>
</html>